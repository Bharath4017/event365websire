<div class="rspv_wrapper">
    <mat-card>
        <div class="payment-tabs">
            <button class="payment-tabs-btn" [ngClass]="{'active': selectedPaymentType === 1}"
                (click)="selectTicketType(1)">
                {{ STRINGS.RspvCheckbox.paid }}
            </button>
            <button class="payment-tabs-btn" [ngClass]="{'active': selectedPaymentType === 2}"
                (click)="selectTicketType(2)">
                {{ STRINGS.RspvCheckbox.cancelled }}
            </button>
        </div>
        <div *ngIf="selectedPaymentType === 1" class=" height-5">
            <div fxLayout="row"  fxLayoutAlign="start center" fxLayoutGap.lt-md="10px" fxLayoutGap="24px">

            <div fxFlex="70" fxLayoutAlign="start center" class="height-5" fxFlex.lt-sm="50" fxFlex.lt-md="50" fxFlex.lt-lg="60">
                <div>
                <mat-checkbox [checked]="allChecked" (change)="checkedAll($event.checked)" [indeterminate]="GetAllCheckboxValue()">
                    {{checkboxLabel.name}}
                </mat-checkbox>
                
                <span *ngFor="let checkbox of checkboxLabel.Label">
                    <mat-checkbox [checked]="checkbox.isChecked" [value]="checkbox.value"
                        [(ngModel)]="checkbox.isChecked" (change)="applyFilter()" >
                        {{ checkbox.name }}
                    </mat-checkbox>
                </span>
            </div>
            </div>
            <div  fxFlex="30" fxFlex.lt-md="50"  fxFlex.lt-sm="50">
                <mat-form-field class="matinput-space cus-seach" floatLabel="never" appearance="standard">
                    <input matInput placeholder="Search" [(ngModel)]="searchText" #searchbar (input)="searchpayments($event)" class="input-width">
                    <button type="button" mat-button mat-icon-button aria-label="input-search">
                        <img src="{{ searchImage }}">
                    </button>
                </mat-form-field>
            </div>
            </div>
        </div>
        <div fxLayout="row flex-wrap" fxLayoutAlign="center center" class="mt-4" fxLayoutGap="24px" fxLayoutGap.lt-md="0">
            <div class="flex-class flex-wrap">
                <ng-container *ngFor="let userPayment of  payments let i = index">
                    <span class="card-width">
                        <mat-card fxLayoutAlign="start center"
                            class="shadow-none mb-4 justify-content-between list_card flex-class flex-class-res"
                            (click)="paid(userPayment)">
                            <!-- <div fxLayout.lt-md="row" fxLayout.lt-sm="column" class="d-flex align-items-center">
                                <img mat-card-sm-image [src] = "list.users.profilePic ? list.users.profilePic : defoultAvtar " class="mr-3"> 
                                <mat-card-title ngClass.lt-sm="mt-2">{{ list.name }} </mat-card-title>
                            </div> -->
                            <div class="card-profile">
                                <div class="card-user-image">
                                    <ng-container *ngIf="!userPayment?.users?.profilePic; else elseBlock">
                                        <ngx-avatar class="avatar-container avatar-custom"
                                            name="{{ userPayment?.users?.name }}" size="75" [round]="false"
                                            cornerRadius="14">
                                        </ngx-avatar>
                                    </ng-container>
                                    <ng-template #elseBlock>
                                        <img [src]="userPayment?.users?.profilePic" class="card-profile h-100">
                                    </ng-template>
                                </div>
                                <div>
                                    <mat-card-title ngClass.lt-sm="mt-2">{{ userPayment?.users?.name }}fgfg </mat-card-title>
                                    <p *ngIf="userPayment?.ticketType == 'regularPaid' " class="paid">Paid</p>
                                    <p *ngIf="userPayment?.ticketType == 'vipNormal' " class="paid">VIP</p>
                                    <p *ngIf="userPayment?.ticketType == 'regularTableSeating' " class="paid">Tables & Seatings</p>
                                </div>
                            </div>
                            <mat-card-content> <img mat-card-sm-image src="../../../../assets/img/ticket.svg"
                                    class="pr-2">{{ userPayment?.pricePerTicket }}
                            </mat-card-content>
                        </mat-card>
                    </span>
                </ng-container>
                <div fxlayout="row" *ngIf="payments?.length == 0 || datanotFound" class="w-100">
                    <p class="datanotFound"> {{STRINGS.dataNotFound.dataNfound}} </p>
                  </div>

            </div>
        </div>
    </mat-card>
</div>

<!--model design for all payment paid  -->
<div class="modal fade modal-pr " id="paid-modal" *ngIf="userDetails !== null">
    <div class="modal-dialog modal-mar modal-dialog-centered paid-model-width">
        <!--.......div for corners........ -->
        <svg>
            <mask id='m' fill='#fff'>
                <rect id='r' width='100%' height='100%' />
                <circle id='c' r='25' fill='#000' />
                <use xlink:href='#c' x='100%' />
                <use xlink:href='#c' y='100%' />
                <use xlink:href='#c' x='100%' y='100%' />
            </mask>
            <use xlink:href='#r' fill='#fff' mask='url(#m)' />
        </svg>
        <!--.......div for corners........ -->
        <div class="modal-content paid-model-content">
            <button type="button" class="close close-custom" data-dismiss="modal">&times;</button>
            <div class="modal-body">
                <h3 class="paid-modal-heading">
                    {{ userDetails?.events?.name }}
                </h3>
                <div class="event-details-wrapper">
                    <div class="ticket-icon">
                        <img src="../../../../assets/img/time.svg" width="100%" />
                    </div>
                    <p class="event-details">
                        {{ userDetails?.events?.start | date: 'dd MMM y' }}
                    </p>
                    <hr class="divider">
                    <p class="event-details">
                        {{ userDetails?.events?.start | date: 'hh:mm a' }} - {{ userDetails?.events?.end | date : 'hh:mm a' }}
                    </p>
                </div>
                <div class="event-details-wrapper h-auto">
                    <div class="ticket-icon">
                        <img src="../../../../assets/img/location_gray.svg" width="85%" />
                    </div>
                    <p class="event-details w-100 ">
                        {{ userDetails?.events?.address[0]?.venueAddress }}
                    </p>
                </div>
                <div class="event-details-wrapper">
                    <div class="ticket-icon">
                        <img src="../../../../assets/img/ticket_gray.svg" width="100%" />
                    </div>
                    <p class="event-details w-100">
                        {{ userDetails?.events.ticketBooked[0]?.ticketType }} - ${{ userDetails?.events?.ticketBooked[0]?.pricePerTicket }}
                    </p>
                </div>
                <div class="account-details">
                    <div class="account">
                        <h3 class="account-holder-name">
                            {{ userDetails?.users?.name }}
                        </h3>
                        <p class="account-holder-name ticket-amount">${{ (userDetails?.events?.ticketBooked[0]?.pricePerTicket*userDetails?.events?.ticketBooked[0]?.totalQuantity) }}</p>
                    </div>
                    <p class="account-number">{{ STRINGS.alert.account }} 9214XXXXXXXXX655</p>
                </div>
                <div class="ticket-details">
                    <div class="ticket-sellar">
                        <div class="mb-4">
                            <h3 class="ticket-sellar-head">{{ STRINGS.login.emailId }}</h3>
                            <p class="account-number">{{ userDetails?.users?.email }}</p>
                        </div>
                        <div class="mb-4">
                            <h3 class="ticket-sellar-head">
                                {{ STRINGS.paymentMethods.billingAddress }}
                            </h3>
                            <p class="account-number">
                                B/6, New Delhi, India
                            </p>
                        </div>
                    </div>
                    <div class="qr-code">
                        <img src="../../../assets/img/qr-code.png" width="100%">
                    </div>
                </div>
                <div class="flex" *ngIf="selectedPaymentType === 1">
                    <!-- <button class="primary-btn btn-sm" data-toggle="modal" data-dismiss="modal">
                        {{ STRINGS.buttons.contact }}
                    </button> -->
                    <button class="primary-btn btn-sm btn-red" data-toggle="modal" data-dismiss="modal" (click)="cancelTicket()">
                        {{ STRINGS.buttons.cancel }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- [src]="list.users.profilePic ? "  -->